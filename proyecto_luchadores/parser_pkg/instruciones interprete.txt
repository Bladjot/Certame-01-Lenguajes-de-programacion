#  Int√©rprete del Lenguaje de Luchadores

Este proyecto implementa un **lenguaje de programaci√≥n personalizado** para definir luchadores, sus movimientos y simular combates entre ellos.  
Fue desarrollado en **Python** utilizando **Flex y Bison a trav√©s de la librer√≠a PLY (Python Lex-Yacc)**.

---

##  Objetivo

El prop√≥sito es crear un lenguaje con **dos fases principales**:

1. **Definici√≥n de luchadores:**  
   Permite declarar luchadores con sus estad√≠sticas, acciones b√°sicas (pu√±os, patadas, bloqueos) y combos.

2. **Simulaci√≥n del combate:**  
   Permite establecer enfrentamientos entre luchadores, reglas de turno, condiciones (`si/sino`), y duraci√≥n del combate.

---

## ‚öôÔ∏è Tecnolog√≠as utilizadas

- **Python 3.10+**
- **PLY (Python Lex-Yacc)** ‚Äî para el an√°lisis l√©xico y sint√°ctico
- **Programaci√≥n modular** (separaci√≥n en lexer, parser, int√©rprete y entrada principal)

Instalaci√≥n de PLY:
```bash
pip install ply
üìÅ Estructura del proyecto
bash
Copiar c√≥digo
proyecto_luchadores/
‚îÇ
‚îú‚îÄ‚îÄ lexer/
‚îÇ   ‚îî‚îÄ‚îÄ tokens.py               # Analizador l√©xico (equivalente a Flex)
‚îÇ
‚îú‚îÄ‚îÄ parser/
‚îÇ   ‚îú‚îÄ‚îÄ gramatica.py            # Clases base: Luchador, Accion, Combo, Condicion, etc.
‚îÇ   ‚îî‚îÄ‚îÄ interprete.py           # Gram√°tica + ejecuci√≥n del combate (equivalente a Bison)
‚îÇ
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îî‚îÄ‚îÄ main.py                 # Punto de entrada del programa
‚îÇ
‚îî‚îÄ‚îÄ ejemplos/
    ‚îî‚îÄ‚îÄ programa.txt            # Archivo de entrada con el c√≥digo del lenguaje
 Ejemplo de c√≥digo fuente (programa.txt)
txt
Copiar c√≥digo
luchador Ryu {
  stats(hp=100, st=100);
  acciones {
    golpe: pu√±o_fuerte(da√±o=10, costo=7, altura=media, forma=frontal, giratoria=no);
    patada: patada_baja(da√±o=6, costo=4, altura=baja, forma=frontal, giratoria=no);
    bloqueo: bloqueo_alto;
  }
  combos {
    Hadouken(st_req=20) { pu√±o_fuerte, patada_baja }
  }
}

luchador Ken {
  stats(hp=100, st=100);
  acciones {
    golpe: pu√±o_fuerte(da√±o=10, costo=7, altura=media, forma=frontal, giratoria=no);
    patada: patada_baja(da√±o=6, costo=4, altura=baja, forma=frontal, giratoria=no);
  }
}

simulacion {
  config {
    luchadores: Ryu vs Ken;
    inicia: Ryu;
    turnos_max: 5;
  }
  pelea {
    turno Ryu {
      si (oponente.hp < 50) { usa Hadouken; }
      sino { usa pu√±o_fuerte; }
      usa patada_baja;
    }
    turno Ken {
      usa pu√±o_fuerte;
      si (self.st > 40) { usa Hadouken; }
      sino { usa patada_baja; }
    }
  }
}
üöÄ Ejecuci√≥n
Coloca el archivo programa.txt dentro de la carpeta ejemplos/.

Abre una terminal en la carpeta main/.

Ejecuta el programa:

bash
Copiar c√≥digo
python main.py
Ver√°s el desarrollo del combate paso a paso, junto con el resultado final.

 Funcionamiento interno
El proyecto se basa en los principios de compiladores, dividi√©ndose en tres etapas:

 An√°lisis l√©xico (lexer/tokens.py)
Define las expresiones regulares que identifican los tokens (palabras clave, identificadores, n√∫meros, s√≠mbolos, operadores).

Cada token se define con una variable t_TOKEN o una funci√≥n t_nombre().

Se encarga de ignorar comentarios y espacios y manejar errores l√©xicos.

 An√°lisis sint√°ctico (parser/interprete.py)
Implementa la gram√°tica libre de contexto (GLC) con PLY, equivalente a las producciones de Bison.

Cada regla se define como una funci√≥n con el formato:

python
Copiar c√≥digo
def p_nombre(p):
    """nombre : simbolo simbolo simbolo"""
    p[0] = Resultado
Por ejemplo:

python
Copiar c√≥digo
def p_instruccion(p):
    """instruccion : USA ID PUNTO_Y_COMA
                   | SI PAREN_ABRE condicion PAREN_CIERRA LLAVE_ABRE lista_instrucciones LLAVE_CIERRA
                   | SI PAREN_ABRE condicion PAREN_CIERRA LLAVE_ABRE lista_instrucciones LLAVE_CIERRA SINO LLAVE_ABRE lista_instrucciones LLAVE_CIERRA"""
 Cada l√≠nea dentro del docstring """ ... """ define una producci√≥n posible para esa regla.
Por ejemplo:

usa pu√±o_fuerte;

si (self.st > 50) { usa golpe; }

si (...) { ... } sino { ... }

 El par√°metro p funciona como una lista de s√≠mbolos, donde:

p[0] es el resultado (lo que se devuelve a la regla superior),

p[1], p[2], etc. son los elementos reconocidos (tokens o subreglas).

Ejemplo:

python
Copiar c√≥digo
if len(p) == 4:
    p[0] = Usar(p[2])  # Construye un objeto de tipo Usar()
elif len(p) == 8:
    p[0] = SiSino(p[3], p[6], [])  # Condicional simple
else:
    p[0] = SiSino(p[3], p[6], p[10])  # Condicional con "sino"
Ejecuci√≥n del combate
Se crean objetos de las clases definidas en gramatica.py (Luchador, Combo, Condici√≥n, etc.).

El int√©rprete recorre la simulaci√≥n, turno por turno:

Aplica acciones (usa <acci√≥n>).

Eval√∫a condiciones (si/sino).

Controla la energ√≠a (ST) y los puntos de vida (HP).

Aplica las reglas de fallo de combo (si no hay ST suficiente, se usa la primera acci√≥n del combo).

 √Årbol sint√°ctico simplificado
Para la instrucci√≥n:

txt
Copiar c√≥digo
si (oponente.hp < 50) {
    usa Hadouken;
} sino {
    usa pu√±o_fuerte;
}
El parser genera internamente:

less
Copiar c√≥digo
SiSino(
  condicion = (oponente.hp < 50),
  bloque_si = [Usar("Hadouken")],
  bloque_sino = [Usar("pu√±o_fuerte")]
)
üèÅ Resultado del combate (ejemplo)
yaml
Copiar c√≥digo
  COMBATE: Ryu vs Ken
Turnos m√°ximos: 5

  Turno 1 de Ryu:
 Ryu usa pu√±o_fuerte (-10 HP al rival)
 Ryu usa patada_baja (-6 HP al rival)

  Turno 1 de Ken:
 Ken usa pu√±o_fuerte (-10 HP al rival)
 Ken ejecuta combo Hadouken
 Ken usa pu√±o_fuerte (-10 HP al rival)
 Ken usa patada_baja (-6 HP al rival)

 RESULTADO FINAL:
Ryu: HP=74, ST=83
Ken: HP=84, ST=73
 Gana Ken
 Conclusi√≥n
Este int√©rprete muestra el flujo completo de un mini lenguaje imperativo, desde el an√°lisis l√©xico hasta la ejecuci√≥n.
Permite comprender de forma pr√°ctica c√≥mo funcionan:

Las gram√°ticas libres de contexto,

Las estructuras condicionales simples,

Y la traducci√≥n de reglas sint√°cticas en objetos ejecutables.